<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>rock Papper scissors Game - Odin</title>
</head>
<body>
	<div id="container">
		<button class="btn" id="rock">"Rock"</button>
		<button class="btn" id="paper">"Paper"</button>
		<button class="btn" id='scissors'>"Scissors"</button>
	</div>

	<div id="player-score">Player Score:</div>
	
	<div id="computer-score">Computer Score:</div>

	<div id="message"></div>

	<div id="game-winner"></div>
	
	


	<script>
		let compScore = 0;
		let playerScore = 0;
		let roundWinner = '';

		// const playerSelection = prompt("Rock, Paper or Scissors?").toLowerCase(); //player selects a variable and is converted to lowercase. 
		// const computerSelection = computerPlay(); //computer selection
		const container = document.querySelector('#container');

		const btns = document.querySelector(".btn");
		const rockBtn = document.querySelector("#rock");
		const paperBtn = document.querySelector("#paper");
		const scissorBtn = document.querySelector("#scissors");

		const playerScoreBoard = document.querySelector('#player-score');
		const computerScoreBoard = document.querySelector('#computer-score');
		const message = document.querySelector('#message');

		const gameWinner = document.querySelector('#game-winner');

		//function to add a div to the container everytime the round is played. 
	


		rockBtn.addEventListener('click', () => {
			const playerSelection = 'rock';
			const computerSelection = computerPlay();
			playRound(playerSelection, computerSelection);
		})

		paperBtn.addEventListener('click', () => {
			const playerSelection = 'paper';
			const computerSelection = computerPlay();
			playRound(playerSelection, computerSelection);
		})

		scissorBtn.addEventListener('click', () => {
			const playerSelection = 'scissors';
			const computerSelection = computerPlay();
			playRound(playerSelection, computerSelection);
		})


		function computerPlay() {
			let randomNum = Math.floor(Math.random() * 3);
			switch (randomNum) {
				case 0: 
					return 'rock'
				case 1: 
					return 'paper'
				case 2: 
					return 'scissors'
				break;
			}
		}


		function playRound(playerSelection, computerSelection) {
			if (playerSelection === computerSelection) {
				roundWinner = 'Tie';
			}
			else if (
				(playerSelection === 'rock' && computerSelection === 'scissors') ||
				(playerSelection === 'scissors' && computerSelection === 'paper') ||
				(playerSelection === 'paper' && computerSelection === 'rock') 
				) {
				roundWinner = 'Player';
				++playerScore;
				}
			else if (
				(computerSelection === 'rock' && playerSelection === 'scissors') ||
				(computerSelection === 'scissors' && playerSelection === 'paper') ||
				(computerSelection === 'paper' && playerSelection === 'rock')
				) {
				roundWinner = 'Computer';
				++compScore;
				}
			finalScore();
		}

	// display final score; if player or computer score is equal to 5, declare the winner.
		function finalScore() {
			playerScoreBoard.textContent = `Player Score: ${playerScore}`;
			computerScoreBoard.textContent = `Computer Score: ${compScore}`;
			message.textContent = `Round Results: ${roundWinner}`;

			if (playerScore === 5) {
				gameWinner.textContent = "Player has won the game!";
				gameOver()	
			} else if (compScore === 5) {
				gameWinner.textContent = "Computer has won the game!";
				gameOver()
			} 
		}

		// ends the game, making buttons unclickable. 
		function gameOver() {
  			document.getElementById("rock").disabled = true;
  			document.getElementById("paper").disabled = true;
 		 	document.getElementById("scissors").disabled = true;
		}


	</script>
	
</body>
</html>